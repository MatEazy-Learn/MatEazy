<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Understanding Apoptosis: Programmed Cell Death</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="image/png" href="../../logo.png">
    <style>
        .progress-bar {
            height: 6px;
            background-color: #e5e7eb;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background-color: #10b981;
            transition: width 0.3s ease;
        }
        
        .lesson-card {
            transition: all 0.3s ease;
        }
        
        .lesson-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .pathway-card {
            border-left: 4px solid;
            transition: all 0.3s ease;
        }
        
        .pathway-card:hover {
            transform: translateX(5px);
        }
        
        .test-option {
            transition: all 0.2s ease;
        }
        
        .test-option:hover {
            background-color: #ecfdf5;
        }
        
        .test-option.selected {
            background-color: #10b981;
            color: white;
        }
        
        .test-option.correct {
            background-color: #10b981;
            color: white;
        }
        
        .test-option.incorrect {
            background-color: #ef4444;
            color: white;
        }
        
        .hidden {
            display: none;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .comparison-table {
            border-collapse: collapse;
            width: 100%;
        }
        
        .comparison-table th, .comparison-table td {
            border: 1px solid #e5e7eb;
            padding: 12px;
            text-align: left;
        }
        
        .comparison-table th {
            background-color: #f3f4f6;
            font-weight: 600;
        }
        
        .comparison-table tr:nth-child(even) {
            background-color: #f9fafb;
        }
        
        .animated-cell {
            position: relative;
            overflow: hidden;
        }
        
        .animated-cell::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transform: translateX(-100%);
            animation: shine 2s infinite;
        }
        
        @keyframes shine {
            100% {
                transform: translateX(100%);
            }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation -->
 <nav class="bg-white shadow-md sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16 items-center">
        <div class="flex items-center space-x-2">
            <i><img src="../../logo.png" alt="logo" width="50px" ></i>
            <a href="index"><span class="text-xl font-bold text-blue-600">MatEazy</span></a>
        </div>
        <div class="hidden md:flex space-x-6">
          <a href="../../index.html" class="hover:text-blue-600 font-medium">Home</a>
          <a href="../../courses.html" class="hover:text-blue-600 font-medium"><i class="fas fa-search"></i>Search</a>
          <a href="http://buymeacoffee.com/MatEazy" class="bg-blue-600 text-white px-1 py-1 rounded-lg hover:bg-green-700 transition">Donate</a>
        </div>
        <!-- Mobile menu button -->
        <div class="md:hidden">
          <button id="menu-btn" class="text-gray-800 focus:outline-none">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2"
              viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
              <path d="M4 6h16M4 12h16M4 18h16" />
            </svg>
          </button>
        </div>
      </div>
    </div>
      <!-- Mobile menu -->
    <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-200">
      <a href="../../index.html" class="block px-4 py-2 hover:bg-gray-100">Home</a>
      <a href="../../courses.html" class="block px-4 py-2 hover:bg-gray-100"><i class="fas fa-search"></i>Search</a>
      <a href="http://buymeacoffee.com/MatEazy" class="block px-4 py-2 bg-blue-600 text-white hover:bg-green-700 transition">Donate</a>
    </div>    
 </nav>
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Header -->
        <header class="mb-8 text-center">
            <h1 class="text-4xl font-bold text-green-800 mb-2">Understanding Apoptosis</h1>
            <p class="text-gray-600">Programmed cell death: mechanisms, regulation, and importance</p>
            <a href="General-pathology.html">
                <div class="bg-gray-200 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-300 disabled:opacity-50">
                   <i class="fas fa-arrow-left mr-2"></i> General Pathology
                </div>
            </a>
            <div class="progress-bar mt-6 w-full">
                <div id="progress-fill" class="progress-fill" style="width: 0%"></div>
            </div>
        </header>
        
        <!-- Lesson Content -->
        <div id="lesson-content">
            <!-- Introduction -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden mb-8 lesson-card">
                <div class="p-6">
                    <div class="flex items-center mb-4">
                        <div class="bg-green-100 p-3 rounded-full mr-4">
                            <i class="fas fa-dna text-green-600 text-xl"></i>
                        </div>
                        <h2 class="text-2xl font-semibold text-gray-800">Introduction to Apoptosis</h2>
                    </div>
                    <p class="text-gray-700 mb-4">
                        Apoptosis is programmed cell death - a controlled, regulated process where cells essentially commit suicide. Unlike necrosis (accidental cell death), apoptosis is an orderly process that doesn't cause inflammation. It's crucial for normal development, tissue homeostasis, and eliminating dangerous cells.
                    </p>
                    
                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-green-50 p-4 rounded-lg border-l-4 border-green-500">
                            <h3 class="text-green-800 font-medium mb-2"><i class="fas fa-lightbulb mr-2"></i>Key Characteristics:</h3>
                            <ul class="list-disc pl-5 text-gray-700 space-y-2">
                                <li>Cell shrinkage and membrane blebbing</li>
                                <li>DNA fragmentation</li>
                                <li>Formation of apoptotic bodies</li>
                                <li>No inflammatory response</li>
                                <li>Energy-dependent (requires ATP)</li>
                            </ul>
                        </div>
                        <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500">
                            <h3 class="text-blue-800 font-medium mb-2">Biological Importance:</h3>
                            <ul class="list-disc pl-5 text-gray-700 space-y-2">
                                <li>Shapes organs during development</li>
                                <li>Maintains tissue homeostasis</li>
                                <li>Eliminates 50-70 billion cells daily</li>
                                <li>Prevents cancer by removing damaged cells</li>
                                <li>Defends against infections</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500">
                        <p class="text-yellow-800 font-medium">Developmental Example:</p>
                        <p class="text-gray-700">
                            During embryonic development, apoptosis removes the webbing between fingers, allowing for proper hand formation. This demonstrates how precisely controlled cell death shapes our bodies.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Pathways -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden mb-8 lesson-card">
                <div class="p-6">
                    <div class="flex items-center mb-4">
                        <div class="bg-blue-100 p-3 rounded-full mr-4">
                            <i class="fas fa-project-diagram text-blue-600 text-xl"></i>
                        </div>
                        <h2 class="text-2xl font-semibold text-gray-800">Apoptosis Pathways</h2>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-4 mb-6">
                        <div class="pathway-card bg-green-50 p-4 rounded-lg border-l-green-500">
                            <h3 class="font-medium text-green-800 mb-2 flex items-center">
                                <i class="fas fa-external-link-alt mr-2"></i> Extrinsic Pathway
                            </h3>
                            <p class="text-gray-700 text-sm mb-2">
                                Triggered by external death signals binding to cell surface receptors:
                            </p>
                            <ol class="list-decimal pl-5 text-gray-700 text-sm space-y-1">
                                <li>Death ligands (FasL, TNF) bind receptors</li>
                                <li>Forms Death-Inducing Signaling Complex (DISC)</li>
                                <li>Activates caspase-8</li>
                                <li>Triggers execution caspases</li>
                            </ol>
                        </div>
                        
                        <div class="pathway-card bg-blue-50 p-4 rounded-lg border-l-blue-500">
                            <h3 class="font-medium text-blue-800 mb-2 flex items-center">
                                <i class="fas fa-bolt mr-2"></i> Intrinsic Pathway
                            </h3>
                            <p class="text-gray-700 text-sm mb-2">
                                Triggered by internal signals like DNA damage:
                            </p>
                            <ol class="list-decimal pl-5 text-gray-700 text-sm space-y-1">
                                <li>Mitochondrial outer membrane permeabilization</li>
                                <li>Cytochrome c release</li>
                                <li>Forms apoptosome complex</li>
                                <li>Activates caspase-9</li>
                            </ol>
                        </div>
                    </div>
                    
                    <div class="bg-purple-50 p-4 rounded-lg border-l-4 border-purple-500">
                        <p class="text-purple-800 font-medium">Execution Phase:</p>
                        <p class="text-gray-700">
                            Both pathways converge to activate execution caspases (caspase-3, -6, -7) which carry out the orderly dismantling of the cell through DNA fragmentation, membrane blebbing, and formation of apoptotic bodies.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Regulation -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden mb-8 lesson-card">
                <div class="p-6">
                    <div class="flex items-center mb-4">
                        <div class="bg-purple-100 p-3 rounded-full mr-4">
                            <i class="fas fa-balance-scale text-purple-600 text-xl"></i>
                        </div>
                        <h2 class="text-2xl font-semibold text-gray-800">Regulation of Apoptosis</h2>
                    </div>
                    
                    <div class="grid md:grid-cols-3 gap-4 mb-6">
                        <div class="pathway-card bg-green-50 p-4 rounded-lg border-l-green-500">
                            <h3 class="font-medium text-green-800 mb-2 flex items-center">
                                <i class="fas fa-users mr-2"></i> Bcl-2 Family
                            </h3>
                            <p class="text-gray-700 text-sm">
                                <span class="font-medium">Pro-apoptotic:</span> Bax, Bak, Bad<br>
                                <span class="font-medium">Anti-apoptotic:</span> Bcl-2, Bcl-XL<br>
                                Balance determines cell fate
                            </p>
                        </div>
                        
                        <div class="pathway-card bg-blue-50 p-4 rounded-lg border-l-blue-500">
                            <h3 class="font-medium text-blue-800 mb-2 flex items-center">
                                <i class="fas fa-lock mr-2"></i> IAPs
                            </h3>
                            <p class="text-gray-700 text-sm">
                                Inhibitor of Apoptosis Proteins (XIAP, c-IAP1/2, Survivin) bind and inhibit caspases, preventing their activation.
                            </p>
                        </div>
                        
                        <div class="pathway-card bg-yellow-50 p-4 rounded-lg border-l-yellow-500">
                            <h3 class="font-medium text-yellow-800 mb-2 flex items-center">
                                <i class="fas fa-shield-alt mr-2"></i> p53
                            </h3>
                            <p class="text-gray-700 text-sm">
                                "Guardian of the Genome" triggers apoptosis in response to DNA damage, preventing cancerous growth.
                            </p>
                        </div>
                    </div>
                    
                    <div class="bg-pink-50 p-4 rounded-lg border-l-4 border-pink-500">
                        <p class="text-pink-800 font-medium">Regulation Layers:</p>
                        <div class="grid md:grid-cols-3 gap-2 mt-2 text-sm">
                            <div class="flex items-center">
                                <i class="fas fa-layer-group text-pink-600 mr-2"></i>
                                <span class="text-gray-700">Bcl-2 family controls mitochondria</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-lock text-pink-600 mr-2"></i>
                                <span class="text-gray-700">IAPs inhibit caspases</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-dna text-pink-600 mr-2"></i>
                                <span class="text-gray-700">p53 responds to DNA damage</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Comparison -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden mb-8 lesson-card">
                <div class="p-6">
                    <div class="flex items-center mb-4">
                        <div class="bg-red-100 p-3 rounded-full mr-4">
                            <i class="fas fa-not-equal text-red-600 text-xl"></i>
                        </div>
                        <h2 class="text-2xl font-semibold text-gray-800">Apoptosis vs. Necrosis</h2>
                    </div>
                    
                    <table class="comparison-table mb-6">
                        <tr>
                            <th>Feature</th>
                            <th>Apoptosis</th>
                            <th>Necrosis</th>
                        </tr>
                        <tr>
                            <td>Control</td>
                            <td>Programmed, regulated</td>
                            <td>Accidental, uncontrolled</td>
                        </tr>
                        <tr>
                            <td>Energy</td>
                            <td>Requires ATP</td>
                            <td>Passive process</td>
                        </tr>
                        <tr>
                            <td>Membrane</td>
                            <td>Intact until phagocytosis</td>
                            <td>Early rupture</td>
                        </tr>
                        <tr>
                            <td>Inflammation</td>
                            <td>No inflammation</td>
                            <td>Causes inflammation</td>
                        </tr>
                        <tr>
                            <td>Occurrence</td>
                            <td>Normal development, homeostasis</td>
                            <td>Trauma, injury, toxins</td>
                        </tr>
                    </table>
                    
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-green-50 p-4 rounded-lg">
                            <div class="flex items-center mb-2">
                                <div class="w-4 h-4 bg-green-500 rounded-full mr-2"></div>
                                <h3 class="font-medium text-green-800">Apoptotic Cell</h3>
                            </div>
                            <div class="animated-cell bg-green-100 rounded-lg h-32 flex items-center justify-center">
                                <div class="relative">
                                    <div class="w-16 h-16 bg-green-300 rounded-full"></div>
                                    <div class="absolute -top-2 -right-2 w-4 h-4 bg-green-500 rounded-full"></div>
                                    <div class="absolute -bottom-2 -left-2 w-4 h-4 bg-green-500 rounded-full"></div>
                                    <div class="absolute -bottom-2 -right-2 w-4 h-4 bg-green-500 rounded-full"></div>
                                </div>
                            </div>
                            <p class="text-xs text-gray-600 mt-2">Cell shrinks, forms blebs and apoptotic bodies</p>
                        </div>
                        
                        <div class="bg-red-50 p-4 rounded-lg">
                            <div class="flex items-center mb-2">
                                <div class="w-4 h-4 bg-red-500 rounded-full mr-2"></div>
                                <h3 class="font-medium text-red-800">Necrotic Cell</h3>
                            </div>
                            <div class="bg-red-100 rounded-lg h-32 flex items-center justify-center">
                                <div class="w-20 h-20 bg-red-300 rounded-lg relative overflow-hidden">
                                    <div class="absolute inset-0 bg-red-400 opacity-50"></div>
                                    <div class="absolute top-1/4 left-1/4 w-8 h-8 bg-red-500 rounded-full"></div>
                                    <div class="absolute bottom-1/4 right-1/4 w-10 h-6 bg-red-500 rounded"></div>
                                </div>
                            </div>
                            <p class="text-xs text-gray-600 mt-2">Cell swells, membrane ruptures, contents leak</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Clinical Importance -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden mb-8 lesson-card">
                <div class="p-6">
                    <div class="flex items-center mb-4">
                        <div class="bg-indigo-100 p-3 rounded-full mr-4">
                            <i class="fas fa-medkit text-indigo-600 text-xl"></i>
                        </div>
                        <h2 class="text-2xl font-semibold text-gray-800">Clinical Importance</h2>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6 mb-4">
                        <div>
                            <h3 class="text-lg font-medium text-gray-800 mb-2">Dysregulation Consequences</h3>
                            <ul class="list-disc pl-5 text-gray-700 space-y-2">
                                <li><span class="font-medium">Too little apoptosis:</span> Cancer, autoimmune disorders</li>
                                <li><span class="font-medium">Too much apoptosis:</span> Neurodegenerative diseases (Alzheimer's, Parkinson's)</li>
                                <li><span class="font-medium">Viral infections:</span> Viruses may inhibit apoptosis to survive</li>
                                <li><span class="font-medium">Therapeutic target:</span> Cancer treatments aim to restore apoptosis</li>
                            </ul>
                        </div>
                        <div>
                            <h3 class="text-lg font-medium text-gray-800 mb-2">Therapeutic Approaches</h3>
                            <ul class="list-disc pl-5 text-gray-700 space-y-2">
                                <li>BH3 mimetics to inhibit anti-apoptotic Bcl-2</li>
                                <li>IAP antagonists to promote apoptosis</li>
                                <li>p53 activators in cancer therapy</li>
                                <li>Apoptosis inhibitors for neurodegenerative diseases</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="bg-indigo-50 p-4 rounded-lg border-l-4 border-indigo-500">
                        <p class="text-indigo-800 font-medium">Cancer Example:</p>
                        <p class="text-gray-700">
                            Many cancers overexpress anti-apoptotic Bcl-2, allowing tumor cells to evade death. Drugs like venetoclax (a BH3 mimetic) can block Bcl-2, restoring apoptosis in cancer cells.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Start Test Button -->
            <div class="flex justify-center mb-8">
                <button id="start-test-btn" class="bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-8 rounded-lg shadow-md transition duration-300 flex items-center">
                    <i class="fas fa-graduation-cap mr-2"></i> Take the Apoptosis Knowledge Test
                </button>
            </div>
        </div>
        
        <!-- Test Section (Hidden Initially) -->
        <div id="test-section" class="hidden">
            <div class="bg-white rounded-xl shadow-md overflow-hidden mb-8">
                <div class="p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Apoptosis Knowledge Test</h2>
                        <div class="bg-green-100 text-green-800 font-medium py-1 px-3 rounded-full">
                            <span id="current-question">1</span>/5
                        </div>
                    </div>
                    
                    <div id="question-container" class="mb-6">
                        <!-- Questions will be inserted here by JavaScript -->
                    </div>
                    
                    <div class="flex justify-between">
                        <button id="prev-btn" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-6 rounded-lg transition duration-300 hidden">
                            <i class="fas fa-arrow-left mr-2"></i> Previous
                        </button>
                        <button id="next-btn" class="bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-6 rounded-lg transition duration-300">
                            Next <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Results Section (Hidden Initially) -->
        <div id="results-section" class="hidden">
            <div class="bg-white rounded-xl shadow-md overflow-hidden mb-8 text-center p-8">
                <div class="mb-6">
                    <div class="w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-trophy text-green-600 text-4xl"></i>
                    </div>
                    <h2 class="text-2xl font-semibold text-gray-800 mb-2">Test Completed!</h2>
                    <p class="text-gray-600">Your score: <span id="score" class="font-bold text-green-600">0</span>/5</p>
                </div>
                
                <div class="max-w-md mx-auto mb-6">
                    <div class="flex justify-between mb-1">
                        <span class="text-sm font-medium text-gray-700">Performance</span>
                        <span id="percentage" class="text-sm font-medium text-gray-700">0%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div id="results-progress" class="bg-green-600 h-2.5 rounded-full" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="grid md:grid-cols-1 gap-4 mb-8" id="answers-review">
                    <!-- Answer review will be inserted here -->
                </div>
                
                <div class="flex justify-center space-x-4">
                    <button id="retake-btn" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-6 rounded-lg transition duration-300">
                        <i class="fas fa-redo mr-2"></i> Retake Test
                    </button>
                    <button id="back-to-lesson-btn" class="bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-6 rounded-lg transition duration-300">
                        <i class="fas fa-book mr-2"></i> Review Lesson
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Lesson progress tracking
        const progressFill = document.getElementById('progress-fill');
        const lessonContent = document.getElementById('lesson-content');
        const testSection = document.getElementById('test-section');
        const resultsSection = document.getElementById('results-section');
        const startTestBtn = document.getElementById('start-test-btn');
        const backToLessonBtn = document.getElementById('back-to-lesson-btn');
        const retakeBtn = document.getElementById('retake-btn');
        
        // Track scroll progress
        window.addEventListener('scroll', function() {
            const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrollProgress = (scrollTop / scrollHeight) * 100;
            progressFill.style.width = scrollProgress + '%';
        });
        
        // Test questions and answers
        const questions = [
            {
                question: "What is the key difference between apoptosis and necrosis?",
                options: [
                    "Apoptosis causes inflammation while necrosis doesn't",
                    "Necrosis is programmed while apoptosis is accidental",
                    "Apoptosis is controlled and doesn't cause inflammation",
                    "Both processes are identical"
                ],
                answer: 2,
                explanation: "Apoptosis is a controlled, programmed process that doesn't cause inflammation, while necrosis is accidental cell death that triggers inflammation."
            },
            {
                question: "Which pathway is triggered by external death signals binding to cell surface receptors?",
                options: [
                    "Intrinsic pathway",
                    "Extrinsic pathway",
                    "Mitochondrial pathway",
                    "p53 pathway"
                ],
                answer: 1,
                explanation: "The extrinsic pathway is initiated by external death signals (like FasL or TNF) binding to cell surface death receptors."
            },
            {
                question: "Which protein is known as the 'Guardian of the Genome' for its role in apoptosis regulation?",
                options: [
                    "Bcl-2",
                    "XIAP",
                    "p53",
                    "Bax"
                ],
                answer: 2,
                explanation: "p53 is called the 'Guardian of the Genome' because it triggers apoptosis in response to DNA damage, preventing potentially cancerous cells from proliferating."
            },
            {
                question: "What happens to the cell membrane during apoptosis?",
                options: [
                    "It ruptures early in the process",
                    "It remains intact until phagocytosis",
                    "It becomes more permeable to all substances",
                    "It expands significantly"
                ],
                answer: 1,
                explanation: "In apoptosis, the cell membrane remains intact until the cell is phagocytosed, preventing the release of cellular contents that could trigger inflammation."
            },
            {
                question: "What can happen when apoptosis is dysregulated (not functioning properly)?",
                options: [
                    "Cancer if too little apoptosis occurs",
                    "Neurodegenerative diseases if too much apoptosis occurs",
                    "Autoimmune disorders if too little apoptosis occurs",
                    "All of the above"
                ],
                answer: 3,
                explanation: "Apoptosis dysregulation can lead to cancer and autoimmune disorders if there's too little apoptosis, or neurodegenerative diseases if there's excessive apoptosis."
            }
        ];
        
        // Test variables
        let currentQuestion = 0;
        let userAnswers = Array(questions.length).fill(null);
        let score = 0;
        
        // DOM elements for test
        const questionContainer = document.getElementById('question-container');
        const currentQuestionDisplay = document.getElementById('current-question');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const scoreDisplay = document.getElementById('score');
        const percentageDisplay = document.getElementById('percentage');
        const resultsProgress = document.getElementById('results-progress');
        const answersReview = document.getElementById('answers-review');
        
        // Start test button
        startTestBtn.addEventListener('click', function() {
            lessonContent.classList.add('hidden');
            testSection.classList.remove('hidden');
            showQuestion(0);
        });
        
        // Back to lesson button
        backToLessonBtn.addEventListener('click', function() {
            resultsSection.classList.add('hidden');
            lessonContent.classList.remove('hidden');
            window.scrollTo(0, 0);
        });
        
        // Retake test button
        retakeBtn.addEventListener('click', function() {
            resultsSection.classList.add('hidden');
            testSection.classList.remove('hidden');
            currentQuestion = 0;
            userAnswers = Array(questions.length).fill(null);
            score = 0;
            showQuestion(0);
        });
        
        // Previous question button
        prevBtn.addEventListener('click', function() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion(currentQuestion);
            }
        });
        
        // Next question button
        nextBtn.addEventListener('click', function() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion(currentQuestion);
            } else {
                calculateResults();
                testSection.classList.add('hidden');
                resultsSection.classList.remove('hidden');
                resultsSection.classList.add('fade-in');
            }
        });
        
        // Show question function
        function showQuestion(index) {
            currentQuestionDisplay.textContent = index + 1;
            
            // Update button visibility
            prevBtn.classList.toggle('hidden', index === 0);
            nextBtn.textContent = index === questions.length - 1 ? 'Submit' : 'Next';
            nextBtn.innerHTML = index === questions.length - 1 ? 
                'Submit <i class="fas fa-paper-plane ml-2"></i>' : 
                'Next <i class="fas fa-arrow-right ml-2"></i>';
            
            // Display the question
            const q = questions[index];
            let optionsHtml = '';
            
            q.options.forEach((option, i) => {
                const isSelected = userAnswers[index] === i;
                optionsHtml += `
                    <div class="test-option ${isSelected ? 'selected' : ''} p-4 mb-3 border border-gray-200 rounded-lg cursor-pointer" data-option="${i}">
                        ${option}
                    </div>
                `;
            });
            
            questionContainer.innerHTML = `
                <h3 class="text-lg font-medium text-gray-800 mb-4">${q.question}</h3>
                <div class="options-container">
                    ${optionsHtml}
                </div>
            `;
            
            // Add event listeners to options
            document.querySelectorAll('.test-option').forEach(option => {
                option.addEventListener('click', function() {
                    const selectedOption = parseInt(this.getAttribute('data-option'));
                    userAnswers[index] = selectedOption;
                    
                    // Update UI
                    document.querySelectorAll('.test-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                });
            });
        }
        
        // Calculate results
        function calculateResults() {
            score = 0;
            let reviewHtml = '';
            
            questions.forEach((q, i) => {
                if (userAnswers[i] === q.answer) {
                    score++;
                }
                
                // Create answer review card
                const isCorrect = userAnswers[i] === q.answer;
                reviewHtml += `
                    <div class="bg-${isCorrect ? 'green' : 'red'}-50 p-4 rounded-lg border-l-4 border-${isCorrect ? 'green' : 'red'}-500">
                        <h4 class="font-medium text-gray-800 mb-2">Question ${i + 1}: ${q.question}</h4>
                        <p class="text-sm mb-2 ${isCorrect ? 'text-green-700' : 'text-red-700'}">
                            <i class="fas fa-${isCorrect ? 'check' : 'times'} mr-1"></i>
                            Your answer: ${q.options[userAnswers[i]]}
                        </p>
                        <p class="text-sm text-gray-700">
                            <span class="font-medium">Correct answer:</span> ${q.options[q.answer]}
                        </p>
                        <p class="text-xs text-gray-600 mt-2 italic">${q.explanation}</p>
                    </div>
                `;
            });
            
            // Update results display
            scoreDisplay.textContent = score;
            const percentage = Math.round((score / questions.length) * 100);
            percentageDisplay.textContent = percentage + '%';
            resultsProgress.style.width = percentage + '%';
            answersReview.innerHTML = reviewHtml;
        }
    </script>
    <!-- Add JavaScript for mobile menu toggle -->
  <script>
    const menuBtn = document.getElementById('menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');

    menuBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
  </script>
</body>
</html>