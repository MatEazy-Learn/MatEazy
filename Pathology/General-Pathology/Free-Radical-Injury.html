<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Understanding Free Radical Injury</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="image/png" href="../../logo.png">
    <style>
        .progress-bar {
            height: 6px;
            background-color: #e5e7eb;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background-color: #3b82f6;
            transition: width 0.3s ease;
        }
        
        .lesson-card {
            transition: all 0.3s ease;
        }
        
        .lesson-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .damage-card {
            border-left: 4px solid;
            transition: all 0.3s ease;
        }
        
        .damage-card:hover {
            transform: translateX(5px);
        }
        
        .test-option {
            transition: all 0.2s ease;
        }
        
        .test-option:hover {
            background-color: #dbeafe;
        }
        
        .test-option.selected {
            background-color: #3b82f6;
            color: white;
        }
        
        .test-option.correct {
            background-color: #10b981;
            color: white;
        }
        
        .test-option.incorrect {
            background-color: #ef4444;
            color: white;
        }
        
        .hidden {
            display: none;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .comparison-table {
            border-collapse: collapse;
            width: 100%;
        }
        
        .comparison-table th, .comparison-table td {
            border: 1px solid #e5e7eb;
            padding: 12px;
            text-align: left;
        }
        
        .comparison-table th {
            background-color: #f3f4f6;
            font-weight: 600;
        }
        
        .comparison-table tr:nth-child(even) {
            background-color: #f9fafb;
        }
        
        .electron-animation {
            position: relative;
            width: 100px;
            height: 100px;
            margin: 0 auto;
        }
        
        .nucleus {
            position: absolute;
            width: 40px;
            height: 40px;
            background-color: #f59e0b;
            border-radius: 50%;
            top: 30px;
            left: 30px;
            z-index: 1;
        }
        
        .electron {
            position: absolute;
            width: 12px;
            height: 12px;
            background-color: #3b82f6;
            border-radius: 50%;
            top: 44px;
            left: 44px;
            z-index: 2;
            animation: orbit 4s linear infinite;
        }
        
        .electron.unpaired {
            background-color: #ef4444;
            animation: unstable 2s ease-in-out infinite alternate;
        }
        
        @keyframes orbit {
            0% { transform: rotate(0deg) translateX(40px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(40px) rotate(-360deg); }
        }
        
        @keyframes unstable {
            0% { transform: translateX(-10px); }
            100% { transform: translateX(10px); }
        }
        
        .chain-reaction {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
        }
        
        .chain-molecule {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 10px;
            position: relative;
            font-weight: bold;
        }
        
        .chain-arrow {
            font-size: 20px;
            color: #6b7280;
        }
        
        .chain-electron {
            position: absolute;
            width: 8px;
            height: 8px;
            background-color: #3b82f6;
            border-radius: 50%;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation -->
 <nav class="bg-white shadow-md sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16 items-center">
        <div class="flex items-center space-x-2">
            <i><img src="../../logo.png" alt="logo" width="50px" ></i>
            <a href="../../index.html"><span class="text-xl font-bold text-blue-600">MatEazy</span></a>
        </div>
        <div class="hidden md:flex space-x-6">
          <a href="../../index.html" class="hover:text-blue-600 font-medium">Home</a>
          <a href="../../courses.html" class="hover:text-blue-600 font-medium"><i class="fas fa-search"></i>Search</a>
          <a href="http://buymeacoffee.com/MatEazy" class="bg-blue-600 text-white px-1 py-1 rounded-lg hover:bg-green-700 transition">Donate</a>
        </div>
        <!-- Mobile menu button -->
        <div class="md:hidden">
          <button id="menu-btn" class="text-gray-800 focus:outline-none">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2"
              viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
              <path d="M4 6h16M4 12h16M4 18h16" />
            </svg>
          </button>
        </div>
      </div>
    </div>
      <!-- Mobile menu -->
    <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-200">
      <a href="../../index.html" class="block px-4 py-2 hover:bg-gray-100">Home</a>
      <a href="../../courses.html" class="block px-4 py-2 hover:bg-gray-100"><i class="fas fa-search"></i>Search</a>
      <a href="http://buymeacoffee.com/MatEazy" class="block px-4 py-2 bg-blue-600 text-white hover:bg-green-700 transition">Donate</a>
    </div>    
 </nav>
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Header -->
        <header class="mb-8 text-center">
            <h1 class="text-4xl font-bold text-blue-800 mb-2">Understanding Free Radical Injury</h1>
            <p class="text-gray-600">The science of oxidative stress and cellular damage</p>
            <a href="General-pathology.html">
                <div class="bg-gray-200 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-300 disabled:opacity-50">
                   <i class="fas fa-arrow-left mr-2"></i> General Pathology
                </div>
            </a>
            <div class="progress-bar mt-6 w-full">
                <div id="progress-fill" class="progress-fill" style="width: 0%"></div>
            </div>
        </header>
        
        <!-- Lesson Content -->
        <div id="lesson-content">
            <!-- Introduction -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden mb-8 lesson-card">
                <div class="p-6">
                    <div class="flex items-center mb-4">
                        <div class="bg-blue-100 p-3 rounded-full mr-4">
                            <i class="fas fa-atom text-blue-600 text-xl"></i>
                        </div>
                        <h2 class="text-2xl font-semibold text-gray-800">What Are Free Radicals?</h2>
                    </div>
                    <p class="text-gray-700 mb-4">
                        Free radicals are unstable molecules with unpaired electrons, making them highly reactive. Unlike stable molecules with paired electrons, free radicals desperately seek to pair with other electrons to become stable. This chemical instability makes them potentially harmful to the body.
                    </p>
                    
                    <div class="flex justify-center my-6">
                        <div class="electron-animation">
                            <div class="nucleus"></div>
                            <div class="electron" style="animation-delay: 0s"></div>
                            <div class="electron" style="animation-delay: 1s"></div>
                            <div class="electron unpaired" style="animation-delay: 2s"></div>
                        </div>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500">
                            <h3 class="text-blue-800 font-medium mb-2"><i class="fas fa-lightbulb mr-2"></i>Key Characteristics:</h3>
                            <ul class="list-disc pl-5 text-gray-700 space-y-2">
                                <li>Contain one or more unpaired electrons</li>
                                <li>Highly reactive and unstable</li>
                                <li>Can initiate chain reactions</li>
                                <li>Produced during normal metabolism</li>
                                <li>Increased by environmental factors</li>
                            </ul>
                        </div>
                        <div class="bg-purple-50 p-4 rounded-lg border-l-4 border-purple-500">
                            <h3 class="text-purple-800 font-medium mb-2">Common Types:</h3>
                            <ul class="list-disc pl-5 text-gray-700 space-y-2">
                                <li>Superoxide (O₂•⁻)</li>
                                <li>Hydroxyl radical (•OH)</li>
                                <li>Nitric oxide (•NO)</li>
                                <li>Peroxyl radical (ROO•)</li>
                                <li>Lipid peroxyl radical (LOO•)</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="bg-red-50 p-4 rounded-lg border-l-4 border-red-500">
                        <p class="text-red-800 font-medium">Chain Reaction Example:</p>
                        <div class="chain-reaction">
                            <div class="chain-molecule bg-blue-100">A•</div>
                            <div class="chain-arrow">+</div>
                            <div class="chain-molecule bg-green-100">B</div>
                            <div class="chain-arrow">→</div>
                            <div class="chain-molecule bg-green-100">A</div>
                            <div class="chain-arrow">+</div>
                            <div class="chain-molecule bg-blue-100">B•</div>
                        </div>
                        <p class="text-gray-700 text-sm">
                            Free radical (A•) steals an electron from stable molecule (B), turning it into a new free radical (B•) that continues the chain reaction.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Damage Mechanisms -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden mb-8 lesson-card">
                <div class="p-6">
                    <div class="flex items-center mb-4">
                        <div class="bg-red-100 p-3 rounded-full mr-4">
                            <i class="fas fa-biohazard text-red-600 text-xl"></i>
                        </div>
                        <h2 class="text-2xl font-semibold text-gray-800">Cellular Damage Mechanisms</h2>
                    </div>
                    
                    <div class="grid md:grid-cols-3 gap-4 mb-6">
                        <div class="damage-card bg-blue-50 p-4 rounded-lg border-l-blue-500">
                            <h3 class="font-medium text-blue-800 mb-2 flex items-center">
                                <i class="fas fa-layer-group mr-2"></i> Lipid Peroxidation
                            </h3>
                            <p class="text-gray-700 text-sm">
                                Free radicals attack cell membranes (lipid bilayers), creating a chain reaction that damages membrane structure and function.
                            </p>
                        </div>
                        
                        <div class="damage-card bg-purple-50 p-4 rounded-lg border-l-purple-500">
                            <h3 class="font-medium text-purple-800 mb-2 flex items-center">
                                <i class="fas fa-dna mr-2"></i> DNA Damage
                            </h3>
                            <p class="text-gray-700 text-sm">
                                Free radicals cause strand breaks and base modifications (like 8-hydroxyguanine), leading to mutations if not repaired.
                            </p>
                        </div>
                        
                        <div class="damage-card bg-green-50 p-4 rounded-lg border-l-green-500">
                            <h3 class="font-medium text-green-800 mb-2 flex items-center">
                                <i class="fas fa-cogs mr-2"></i> Protein Damage
                            </h3>
                            <p class="text-gray-700 text-sm">
                                Oxidation changes protein structure, causing unfolding, loss of function, and potential cellular dysfunction.
                            </p>
                        </div>
                    </div>
                    
                    <div class="bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500">
                        <p class="text-yellow-800 font-medium">Oxidative Stress:</p>
                        <p class="text-gray-700">
                            Occurs when free radical production overwhelms the body's antioxidant defenses, leading to cumulative cellular damage over time.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Disease Connections -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden mb-8 lesson-card">
                <div class="p-6">
                    <div class="flex items-center mb-4">
                        <div class="bg-indigo-100 p-3 rounded-full mr-4">
                            <i class="fas fa-heartbeat text-indigo-600 text-xl"></i>
                        </div>
                        <h2 class="text-2xl font-semibold text-gray-800">Disease Connections</h2>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div>
                            <h3 class="text-lg font-medium text-gray-800 mb-2">Age-Related Diseases</h3>
                            <ul class="list-disc pl-5 text-gray-700 space-y-2">
                                <li><span class="font-medium">Cardiovascular:</span> Oxidized LDL contributes to plaque formation</li>
                                <li><span class="font-medium">Neurodegenerative:</span> Alzheimer's, Parkinson's linked to brain oxidative stress</li>
                                <li><span class="font-medium">Cataracts:</span> Lens protein oxidation causes clouding</li>
                                <li><span class="font-medium">Diabetes:</span> Beta cell damage impairs insulin production</li>
                            </ul>
                        </div>
                        <div>
                            <h3 class="text-lg font-medium text-gray-800 mb-2">Other Conditions</h3>
                            <ul class="list-disc pl-5 text-gray-700 space-y-2">
                                <li>Cancer (DNA mutation accumulation)</li>
                                <li>Chronic inflammatory diseases (rheumatoid arthritis)</li>
                                <li>Male infertility (sperm oxidative damage)</li>
                                <li>Premature aging (cellular damage accumulation)</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="bg-pink-50 p-4 rounded-lg border-l-4 border-pink-500">
                        <p class="text-pink-800 font-medium">Inflammation Connection:</p>
                        <p class="text-gray-700">
                            Free radicals and inflammation form a vicious cycle - inflammation produces free radicals which cause more tissue damage, leading to more inflammation.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Antioxidant Defenses -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden mb-8 lesson-card">
                <div class="p-6">
                    <div class="flex items-center mb-4">
                        <div class="bg-green-100 p-3 rounded-full mr-4">
                            <i class="fas fa-shield-alt text-green-600 text-xl"></i>
                        </div>
                        <h2 class="text-2xl font-semibold text-gray-800">Antioxidant Defenses</h2>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div>
                            <h3 class="text-lg font-medium text-gray-800 mb-2">Enzymatic Antioxidants</h3>
                            <ul class="list-disc pl-5 text-gray-700 space-y-2">
                                <li><span class="font-medium">Superoxide dismutase (SOD):</span> Converts superoxide to hydrogen peroxide</li>
                                <li><span class="font-medium">Catalase:</span> Breaks down hydrogen peroxide to water and oxygen</li>
                                <li><span class="font-medium">Glutathione peroxidase:</span> Reduces lipid hydroperoxides and hydrogen peroxide</li>
                            </ul>
                        </div>
                        <div>
                            <h3 class="text-lg font-medium text-gray-800 mb-2">Non-Enzymatic Antioxidants</h3>
                            <ul class="list-disc pl-5 text-gray-700 space-y-2">
                                <li>Vitamin C (water-soluble)</li>
                                <li>Vitamin E (lipid-soluble)</li>
                                <li>Glutathione (cellular antioxidant)</li>
                                <li>Carotenoids (beta-carotene, lycopene)</li>
                                <li>Polyphenols (flavonoids, resveratrol)</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500">
                        <p class="text-blue-800 font-medium">Neutralization Mechanism:</p>
                        <p class="text-gray-700">
                            Antioxidants donate electrons to free radicals without becoming reactive themselves, effectively stopping the chain reaction of cellular damage.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Prevention Strategies -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden mb-8 lesson-card">
                <div class="p-6">
                    <div class="flex items-center mb-4">
                        <div class="bg-yellow-100 p-3 rounded-full mr-4">
                            <i class="fas fa-utensils text-yellow-600 text-xl"></i>
                        </div>
                        <h2 class="text-2xl font-semibold text-gray-800">Prevention Strategies</h2>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div>
                            <h3 class="text-lg font-medium text-gray-800 mb-2">Dietary Recommendations</h3>
                            <ul class="list-disc pl-5 text-gray-700 space-y-2">
                                <li>Eat 5+ servings of colorful fruits/vegetables daily</li>
                                <li>Include nuts, seeds, and whole grains</li>
                                <li>Choose foods rich in vitamins C, E, and polyphenols</li>
                                <li>Drink green tea and other antioxidant beverages</li>
                                <li>Limit processed foods and refined sugars</li>
                            </ul>
                        </div>
                        <div>
                            <h3 class="text-lg font-medium text-gray-800 mb-2">Lifestyle Factors</h3>
                            <ul class="list-disc pl-5 text-gray-700 space-y-2">
                                <li>Avoid smoking and secondhand smoke</li>
                                <li>Limit alcohol consumption</li>
                                <li>Use sun protection (SPF 30+)</li>
                                <li>Exercise regularly (150+ min/week)</li>
                                <li>Practice stress management techniques</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="bg-purple-50 p-4 rounded-lg border-l-4 border-purple-500">
                        <p class="text-purple-800 font-medium">Exercise Paradox:</p>
                        <p class="text-gray-700">
                            While intense exercise temporarily increases free radical production, regular exercise strengthens antioxidant defenses and makes cells more resistant to oxidative stress.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Start Test Button -->
            <div class="flex justify-center mb-8">
                <button id="start-test-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-8 rounded-lg shadow-md transition duration-300 flex items-center">
                    <i class="fas fa-graduation-cap mr-2"></i> Take the Free Radical Knowledge Test
                </button>
            </div>
        </div>
        
        <!-- Test Section (Hidden Initially) -->
        <div id="test-section" class="hidden">
            <div class="bg-white rounded-xl shadow-md overflow-hidden mb-8">
                <div class="p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-semibold text-gray-800">Free Radical Knowledge Test</h2>
                        <div class="bg-blue-100 text-blue-800 font-medium py-1 px-3 rounded-full">
                            <span id="current-question">1</span>/5
                        </div>
                    </div>
                    
                    <div id="question-container" class="mb-6">
                        <!-- Questions will be inserted here by JavaScript -->
                    </div>
                    
                    <div class="flex justify-between">
                        <button id="prev-btn" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-6 rounded-lg transition duration-300 hidden">
                            <i class="fas fa-arrow-left mr-2"></i> Previous
                        </button>
                        <button id="next-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition duration-300">
                            Next <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Results Section (Hidden Initially) -->
        <div id="results-section" class="hidden">
            <div class="bg-white rounded-xl shadow-md overflow-hidden mb-8 text-center p-8">
                <div class="mb-6">
                    <div class="w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-trophy text-blue-600 text-4xl"></i>
                    </div>
                    <h2 class="text-2xl font-semibold text-gray-800 mb-2">Test Completed!</h2>
                    <p class="text-gray-600">Your score: <span id="score" class="font-bold text-blue-600">0</span>/5</p>
                </div>
                
                <div class="max-w-md mx-auto mb-6">
                    <div class="flex justify-between mb-1">
                        <span class="text-sm font-medium text-gray-700">Performance</span>
                        <span id="percentage" class="text-sm font-medium text-gray-700">0%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div id="results-progress" class="bg-blue-600 h-2.5 rounded-full" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="grid md:grid-cols-1 gap-4 mb-8" id="answers-review">
                    <!-- Answer review will be inserted here -->
                </div>
                
                <div class="flex justify-center space-x-4">
                    <button id="retake-btn" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-6 rounded-lg transition duration-300">
                        <i class="fas fa-redo mr-2"></i> Retake Test
                    </button>
                    <button id="back-to-lesson-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition duration-300">
                        <i class="fas fa-book mr-2"></i> Review Lesson
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Lesson progress tracking
        const progressFill = document.getElementById('progress-fill');
        const lessonContent = document.getElementById('lesson-content');
        const testSection = document.getElementById('test-section');
        const resultsSection = document.getElementById('results-section');
        const startTestBtn = document.getElementById('start-test-btn');
        const backToLessonBtn = document.getElementById('back-to-lesson-btn');
        const retakeBtn = document.getElementById('retake-btn');
        
        // Track scroll progress
        window.addEventListener('scroll', function() {
            const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrollProgress = (scrollTop / scrollHeight) * 100;
            progressFill.style.width = scrollProgress + '%';
        });
        
        // Test questions and answers
        const questions = [
            {
                question: "What makes free radicals chemically unstable?",
                options: [
                    "They have too many protons",
                    "They contain unpaired electrons",
                    "They are always negatively charged",
                    "They are larger than normal molecules"
                ],
                answer: 1,
                explanation: "Free radicals are unstable because they contain one or more unpaired electrons, making them highly reactive as they seek to pair these electrons."
            },
            {
                question: "Which of these is NOT a consequence of oxidative stress?",
                options: [
                    "Lipid peroxidation in cell membranes",
                    "DNA strand breaks and mutations",
                    "Protein unfolding and dysfunction",
                    "Increased cellular energy production"
                ],
                answer: 3,
                explanation: "Oxidative stress damages cellular components but doesn't increase energy production. In fact, it often impairs mitochondrial function and reduces energy production."
            },
            {
                question: "Which enzyme is the first line of defense against superoxide radicals?",
                options: [
                    "Catalase",
                    "Glutathione peroxidase",
                    "Superoxide dismutase (SOD)",
                    "DNA polymerase"
                ],
                answer: 2,
                explanation: "Superoxide dismutase (SOD) converts superoxide radicals into hydrogen peroxide, which is then broken down by catalase and glutathione peroxidase."
            },
            {
                question: "What is the relationship between free radicals and inflammation?",
                options: [
                    "They have no connection",
                    "Free radicals reduce inflammation",
                    "They form a vicious cycle of mutual stimulation",
                    "Inflammation always prevents free radical formation"
                ],
                answer: 2,
                explanation: "Free radicals and inflammation form a bidirectional relationship - inflammation produces free radicals which cause more tissue damage, leading to more inflammation."
            },
            {
                question: "Which of these lifestyle factors is most effective at reducing oxidative stress?",
                options: [
                    "Eating a diet rich in colorful fruits and vegetables",
                    "Smoking in moderation",
                    "Avoiding all physical activity",
                    "Getting frequent sunburns"
                ],
                answer: 0,
                explanation: "A diet rich in colorful fruits and vegetables provides antioxidants that help neutralize free radicals and reduce oxidative stress."
            }
        ];
        
        // Test variables
        let currentQuestion = 0;
        let userAnswers = Array(questions.length).fill(null);
        let score = 0;
        
        // DOM elements for test
        const questionContainer = document.getElementById('question-container');
        const currentQuestionDisplay = document.getElementById('current-question');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const scoreDisplay = document.getElementById('score');
        const percentageDisplay = document.getElementById('percentage');
        const resultsProgress = document.getElementById('results-progress');
        const answersReview = document.getElementById('answers-review');
        
        // Start test button
        startTestBtn.addEventListener('click', function() {
            lessonContent.classList.add('hidden');
            testSection.classList.remove('hidden');
            showQuestion(0);
        });
        
        // Back to lesson button
        backToLessonBtn.addEventListener('click', function() {
            resultsSection.classList.add('hidden');
            lessonContent.classList.remove('hidden');
            window.scrollTo(0, 0);
        });
        
        // Retake test button
        retakeBtn.addEventListener('click', function() {
            resultsSection.classList.add('hidden');
            testSection.classList.remove('hidden');
            currentQuestion = 0;
            userAnswers = Array(questions.length).fill(null);
            score = 0;
            showQuestion(0);
        });
        
        // Previous question button
        prevBtn.addEventListener('click', function() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion(currentQuestion);
            }
        });
        
        // Next question button
        nextBtn.addEventListener('click', function() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion(currentQuestion);
            } else {
                calculateResults();
                testSection.classList.add('hidden');
                resultsSection.classList.remove('hidden');
                resultsSection.classList.add('fade-in');
            }
        });
        
        // Show question function
        function showQuestion(index) {
            currentQuestionDisplay.textContent = index + 1;
            
            // Update button visibility
            prevBtn.classList.toggle('hidden', index === 0);
            nextBtn.textContent = index === questions.length - 1 ? 'Submit' : 'Next';
            nextBtn.innerHTML = index === questions.length - 1 ? 
                'Submit <i class="fas fa-paper-plane ml-2"></i>' : 
                'Next <i class="fas fa-arrow-right ml-2"></i>';
            
            // Display the question
            const q = questions[index];
            let optionsHtml = '';
            
            q.options.forEach((option, i) => {
                const isSelected = userAnswers[index] === i;
                optionsHtml += `
                    <div class="test-option ${isSelected ? 'selected' : ''} p-4 mb-3 border border-gray-200 rounded-lg cursor-pointer" data-option="${i}">
                        ${option}
                    </div>
                `;
            });
            
            questionContainer.innerHTML = `
                <h3 class="text-lg font-medium text-gray-800 mb-4">${q.question}</h3>
                <div class="options-container">
                    ${optionsHtml}
                </div>
            `;
            
            // Add event listeners to options
            document.querySelectorAll('.test-option').forEach(option => {
                option.addEventListener('click', function() {
                    const selectedOption = parseInt(this.getAttribute('data-option'));
                    userAnswers[index] = selectedOption;
                    
                    // Update UI
                    document.querySelectorAll('.test-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                });
            });
        }
        
        // Calculate results
        function calculateResults() {
            score = 0;
            let reviewHtml = '';
            
            questions.forEach((q, i) => {
                if (userAnswers[i] === q.answer) {
                    score++;
                }
                
                // Create answer review card
                const isCorrect = userAnswers[i] === q.answer;
                reviewHtml += `
                    <div class="bg-${isCorrect ? 'green' : 'red'}-50 p-4 rounded-lg border-l-4 border-${isCorrect ? 'green' : 'red'}-500">
                        <h4 class="font-medium text-gray-800 mb-2">Question ${i + 1}: ${q.question}</h4>
                        <p class="text-sm mb-2 ${isCorrect ? 'text-green-700' : 'text-red-700'}">
                            <i class="fas fa-${isCorrect ? 'check' : 'times'} mr-1"></i>
                            Your answer: ${q.options[userAnswers[i]]}
                        </p>
                        <p class="text-sm text-gray-700">
                            <span class="font-medium">Correct answer:</span> ${q.options[q.answer]}
                        </p>
                        <p class="text-xs text-gray-600 mt-2 italic">${q.explanation}</p>
                    </div>
                `;
            });
            
            // Update results display
            scoreDisplay.textContent = score;
            const percentage = Math.round((score / questions.length) * 100);
            percentageDisplay.textContent = percentage + '%';
            resultsProgress.style.width = percentage + '%';
            answersReview.innerHTML = reviewHtml;
        }
    </script>
    <!-- Add JavaScript for mobile menu toggle -->
  <script>
    const menuBtn = document.getElementById('menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');

    menuBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
  </script>
</body>
</html>